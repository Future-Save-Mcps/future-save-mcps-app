const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Bb2FIKsV.js","assets/index-B_aqxHYA.js","assets/index-Dv7Baq4n.css","assets/generateCategoricalChart-EeceJZD5.js","assets/cardBd-BS66Stox.js","assets/MenuOpen-akX7lwaQ.js","assets/logo-gHpovZ8O.js","assets/formatTimeAgo-CnVqMwlt.js","assets/Account-lASACpCJ.js","assets/index.esm-bn0A9YDM.js","assets/axios-upsvKRUO.js","assets/ContributionPplan-Bue6rY0y.js","assets/LoanTabs-23hweJ4X.js","assets/formatDate-BNZwrLZe.js","assets/weeksOptionGenerator-XSfyeZ1H.js","assets/Spinner-DvdJBTbM.js","assets/Spinner-CzET9Vbb.css","assets/react-datepicker-DxAXzo5E.js","assets/floating-ui.react-dom-BLiAQCqJ.js","assets/react-datepicker-DdjxYr1F.css","assets/Switch-C3KS4oxF.js","assets/LoanManagement-CvqIxLdT.js","assets/Warning-CM6-OP4Q.js","assets/currencyFormatter-BEPJfsmg.js"])))=>i.map(i=>d[i]);
import{u as v,R as d,r as a,j as e,a as y,N as u,O as C,_ as p,b as _,c as i,P as L,L as m}from"./index-B_aqxHYA.js";import{B as I,D as k,C as g,a as E,b as O,L as R,A,c as b,M as P,d as S,e as z}from"./MenuOpen-akX7lwaQ.js";import{u as F,l as D}from"./logo-gHpovZ8O.js";const M=({refresh:s})=>{var j;const l=v(),[o,c]=d.useState(!1),{data:t,isLoading:r,error:n,refetch:w}=F("user");console.log(t==null?void 0:t.data),a.useEffect(()=>{w()},[s]);const f=x=>h=>{h.type==="keydown"&&(h.key==="Tab"||h.key==="Shift")||c(x)},N=()=>{var x;switch(l.pathname){case"/user":return`Hello, ${(x=t==null?void 0:t.data)==null?void 0:x.firstName}`;case"/user/contribution_plan":return"Contribution Plans";case"/user/loan_management":return"Loan Management";case"/user/account":return"Account";default:return"Welcome!"}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-[100%] md:p-4 py-4 md:pt-[60px]  justify-between items-center pr-4  pl-[50px] bg-white",children:[e.jsx("div",{className:"text-[24px] font-[600]",children:N()}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{onClick:f(!0),className:" cursor-pointer",src:I,alt:""}),e.jsx("div",{className:"absolute w-[10px] h-[10px] right-0 rounded-full top-0 bg-[#FF5555] border-2 border-white"})]}),e.jsx("div",{className:"bg-[#CD2280]  rounded-full p-2",children:e.jsx("span",{className:"text-sm aspect-square h-[2.5em] text-white flex items-center justify-center",children:(j=t==null?void 0:t.data)==null?void 0:j.firstName.charAt(0)})})]})})]}),e.jsx(k,{anchor:"right",open:o,children:e.jsx("div",{className:"p-4 w-[100vw] max-w-[500px]",children:e.jsxs("div",{className:" flex justify-between items-center ",children:[e.jsx("h2",{className:"text-[24px] font-[700]",children:"Notificactions"}),e.jsx(g,{onClick:f(!1),sx:{cursor:"pointer",padding:"5px",width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"#F8F8FA"}})]})})})]})},T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",maxWidth:400,bgcolor:"background.paper",border:"none",outline:"none",p:4,borderRadius:2},U=({toggleSidebar:s})=>{const[l,o]=a.useState(!1);y();const c=()=>{o(!0),s()},t=()=>o(!1),r=()=>{localStorage.clear(),window.location.replace("/")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" text-white sticky p-4  w-fit bg-white  top-0 h-screen border md:border-none",children:[e.jsx("div",{onClick:s,className:"absolute md:hidden right-[20px] top-[20px] rounded-full p-1 bg-[#fff]",children:e.jsx(g,{className:"text-primary"})}),e.jsxs("div",{className:" w-72 flex flex-col gap-8  bg-primary h-[100%] rounded-xl p-8",children:[e.jsx("div",{className:"bg-white w-fit p-2 rounded-xl font-bold text-xl mb-6",children:e.jsx("img",{src:D,alt:""})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between ",children:[e.jsxs("div",{className:`flex  flex-col gap-8
       `,children:[e.jsxs(u,{onClick:s,to:"/user",end:!0,className:({isActive:n})=>`  py-3 font-[500] px-4 rounded-xl flex items-center gap-4 ${n?"bg-white text-primary":"text-white hover:bg-[#1e3774]"}`,children:[e.jsx(E,{color:"currentColor"}),"Dashboard"]}),e.jsxs(u,{onClick:s,to:"/user/contribution_plan",className:({isActive:n})=>` py-3 font-[500] px-4 rounded-xl flex items-center gap-4 ${n?"bg-white text-primary":"text-white hover:bg-[#1e3774]"}`,children:[e.jsx(O,{color:"currentColor"}),"Contribution Plan"]}),e.jsxs(u,{onClick:s,to:"/user/loan_management",className:({isActive:n})=>` py-3 font-[500] px-4 rounded-xl flex items-center gap-4 ${n?"bg-white text-primary":"text-white hover:bg-[#1e3774]"}`,children:[e.jsx(R,{color:"currentColor"}),"Loan Management"]}),e.jsxs(u,{onClick:s,to:"/user/account",className:({isActive:n})=>` py-3 font-[500] px-4 rounded-xl flex items-center gap-4 ${n?"bg-white text-primary":"text-white hover:bg-[#1e3774]"}`,children:[e.jsx(A,{color:"currentColor"}),"Account"]})]}),e.jsxs("div",{onClick:c,className:` py-3 cursor-pointer font-[500] px-4 rounded-xl flex items-center gap-4  
            text-white hover:bg-[#fc242b]`,children:[e.jsx(b,{color:"white"}),"Log Out"]})]})]})]}),e.jsx(P,{open:l,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(S,{sx:T,children:[e.jsx("div",{className:"w-14 h-14 rounded-full m-auto bg-[#f7e2e2] border  flex justify-center items-center",children:e.jsx(b,{color:"red"})}),e.jsx("h2",{className:"m-auto font-semibold text-2xl text-center mt-4",children:"Logout"}),e.jsx("p",{className:"m-auto text-center mt-2",children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"flex flex-col gap-6 mt-6",children:[e.jsx("button",{onClick:r,className:"bg-[red] p-2 rounded-lg text-white",children:"Yes, Continue"}),e.jsx("button",{className:"border border-[red] p-2 rounded-lg text-[red]",children:"Cancel"})]})]})})]})},$=()=>{const[s,l]=a.useState(!1),[o,c]=a.useState(()=>{const r=localStorage.getItem("userInfo");return r?JSON.parse(r):null});a.useEffect(()=>{const r=()=>{const n=localStorage.getItem("userInfo");c(n?JSON.parse(n):null)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]),a.useEffect(()=>{console.log("User Info updated:",o)},[o]);const t=()=>{l(!s)};return e.jsxs("div",{className:"flex min-h-screen m-auto max-w-screen-2xl relative  ",children:[e.jsx("div",{className:`fixed top-0 left-0  h-screen w-fit z-30 text-white transform transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full"} md:static md:translate-x-0 md:h-auto`,children:e.jsx(U,{toggleSidebar:t})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"bg-white  sticky top-0 z-10 flex justify-between items-center ",children:[e.jsx("div",{className:"md:hidden ml-2 absolute",children:e.jsx("button",{className:"rounded-full p-1 bg-[#2438ee34]",onClick:t,children:e.jsx(z,{})})}),e.jsx(M,{refresh:o})]}),e.jsx("main",{className:"flex-1 overflow-auto p-4",children:e.jsx(C,{})})]})]})},B=d.lazy(()=>p(()=>import("./Dashboard-Bb2FIKsV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),V=d.lazy(()=>p(()=>import("./Account-lASACpCJ.js"),__vite__mapDeps([8,1,2,9,6,5,10,4]))),G=d.lazy(()=>p(()=>import("./ContributionPplan-Bue6rY0y.js"),__vite__mapDeps([11,1,2,12,5,6,7,4,9,13,14,15,16,17,18,19,20]))),J=d.lazy(()=>p(()=>import("./LoanManagement-CvqIxLdT.js"),__vite__mapDeps([21,1,2,12,5,6,7,22,4,9,23,20,15,16]))),Y=()=>e.jsx(_,{children:e.jsxs(i,{path:"/",element:e.jsx($,{}),children:[e.jsx(i,{index:!0,element:e.jsx(L,{children:e.jsx(m,{Component:B})})}),e.jsx(i,{path:"contribution_plan",element:e.jsx(m,{Component:G})}),e.jsx(i,{path:"loan_management",element:e.jsx(m,{Component:J})}),e.jsx(i,{path:"account",element:e.jsx(m,{Component:V})})]})});export{Y as default};

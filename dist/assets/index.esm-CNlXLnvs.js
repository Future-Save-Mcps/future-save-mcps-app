import{j as v,r as re,R as A}from"./index-BHdhGlZc.js";import{h as xe}from"./logo-YyV0sLTe.js";const kt=xe(v.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined"),Et=xe(v.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined"),Ge=xe(v.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Ye=xe(v.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUpOutlined"),Je=xe(v.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDownOutlined"),Zt=({label:e,name:s,type:t="text",placeholder:l,register:a,setValue:u,setBank:c,validation:h,errors:w,options:E=[],icon:p,readOnly:x=!1,searchable:k=!1,defaultValueAttachment:W="",onchange:R,setOnChangeValue:I,big:q})=>{const[Y,F]=re.useState(!1),[M,H]=re.useState(!1),[D,J]=re.useState(W),[ie,Q]=re.useState(""),Z=re.useRef(null),P=re.useRef(null);re.useEffect(()=>{W&&(J(W),u(s,W))},[W,u,s]);const oe=(_,L)=>{J(L),u(s,_),H(!1),Q("")},b=(_,L,ne)=>{c(ne),J(L),u(s,_),H(!1),Q("")},V=()=>{F(_=>!_)},C=_=>{Z.current&&!Z.current.contains(_.target)&&H(!1)};re.useEffect(()=>(document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}),[]),re.useEffect(()=>{M&&k&&P.current&&P.current.focus()},[M,k]);const j=k?E.filter(_=>_.label.toLowerCase().includes(ie.toLowerCase())):E;return v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-[#939393] mb-1",children:e}),v.jsxs("div",{className:"relative",ref:Z,children:[t==="Bank"?v.jsxs("div",{children:[v.jsxs("div",{onClick:()=>H(!M),className:"w-full px-2 py-3 rounded-lg border cursor-pointer focus:outline-none flex items-center justify-between",children:[v.jsx("span",{children:D||`Select ${e}`}),v.jsx("span",{className:"text-gray-400",children:M?v.jsx(Ye,{}):v.jsx(Je,{})})]}),M&&v.jsxs("div",{className:"absolute w-full bg-white border mt-1 rounded-lg shadow-md z-10",children:[k&&v.jsx("div",{className:"p-2",children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:P,type:"text",value:ie,onChange:_=>Q(_.target.value),placeholder:"Search...",className:"w-full px-2 py-2 rounded-lg border focus:outline-none pr-8"}),v.jsx(Ge,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),v.jsxs("ul",{className:"max-h-[200px] overflow-auto",children:[j.map((_,L)=>v.jsx("li",{onClick:()=>b(_.value,_.label,_),className:"px-4 py-2 cursor-pointer hover:bg-primary hover:text-white focus:bg-primary focus:text-white",children:_.label},L)),k&&j.length===0&&v.jsx("li",{className:"px-4 py-2 text-gray-500",children:"No results found"})]})]}),v.jsx("input",{type:"hidden",...a(s,h),value:D,name:s})]}):t==="select"?v.jsxs("div",{children:[v.jsxs("div",{onClick:()=>H(!M),className:"w-full px-2 py-3 rounded-lg border cursor-pointer focus:outline-none flex items-center justify-between",children:[v.jsx("span",{children:D||`Select ${e}`}),v.jsx("span",{className:"text-gray-400",children:M?v.jsx(Ye,{}):v.jsx(Je,{})})]}),M&&v.jsxs("div",{className:"absolute w-full bg-white border mt-1 rounded-lg shadow-md z-10",children:[k&&v.jsx("div",{className:"p-2",children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:P,type:"text",value:ie,onChange:_=>Q(_.target.value),placeholder:"Search...",className:"w-full px-2 py-2 rounded-lg border focus:outline-none pr-8"}),v.jsx(Ge,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),v.jsxs("ul",{className:"max-h-[200px] overflow-auto",children:[j.map((_,L)=>v.jsx("li",{onClick:()=>oe(_.value,_.label),className:"px-4 py-2 cursor-pointer hover:bg-primary hover:text-white focus:bg-primary focus:text-white",children:_.label},L)),k&&j.length===0&&v.jsx("li",{className:"px-4 py-2 text-gray-500",children:"No results found"})]})]}),v.jsx("input",{type:"hidden",...a(s,h),value:D,name:s})]}):v.jsx("input",{readOnly:x,type:t==="password"&&Y?"text":t,...a(s,h),placeholder:l,value:D,onChange:_=>{J(_.target.value),R&&I(_.target.value)},className:`w-full px-2 py-3 ${q&&"h-24 text-3xl font-medium text-center"} rounded-lg border focus:outline-none ${t==="password"?"pr-10":""}`}),t==="password"&&v.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center text-gray-400 cursor-pointer",onClick:V,children:Y?v.jsx(kt,{}):v.jsx(Et,{})}),p&&t!=="password"&&v.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center text-gray-400 pointer-events-none",children:p})]}),w[s]&&v.jsx("p",{className:"text-red-500 mt-1 text-[12px]",children:w[s].message})]})},er=({isLoading:e,text:s,onClick:t,width:l="150px",disabled:a=!1,className:u="",type:c="button"})=>v.jsx("button",{type:c,onClick:t,disabled:e||a,className:`mt-8 bg-primary border text-[#c7c7c7] py-2 px-4 rounded-lg disabled:bg-[#ffffff]  transition ${u}`,style:{width:l},children:e?v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-[#aaaaaa]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading..."]}):s});var be=e=>e.type==="checkbox",ue=e=>e instanceof Date,$=e=>e==null;const nt=e=>typeof e=="object";var O=e=>!$(e)&&!Array.isArray(e)&&nt(e)&&!ue(e),ut=e=>O(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Ct=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ot=(e,s)=>e.has(Ct(s)),jt=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let s;const t=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Oe&&(e instanceof Blob||l))&&(t||O(e)))if(s=t?[]:{},!t&&!jt(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=z(e[a]));else return e;return s}var Ve=e=>Array.isArray(e)?e.filter(Boolean):[],N=e=>e===void 0,f=(e,s,t)=>{if(!s||!O(e))return t;const l=Ve(s.split(/[,[\].]+?/)).reduce((a,u)=>$(a)?a:a[u],e);return N(l)||l===e?N(e[s])?t:e[s]:l},G=e=>typeof e=="boolean",Le=e=>/^\w*$/.test(e),ct=e=>Ve(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,s,t)=>{let l=-1;const a=Le(s)?[s]:ct(s),u=a.length,c=u-1;for(;++l<u;){const h=a[l];let w=t;if(l!==c){const E=e[h];w=O(E)||Array.isArray(E)?E:isNaN(+a[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=w,e=e[h]}return e};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nt=A.createContext(null),Te=()=>A.useContext(Nt);var dt=(e,s,t,l=!0)=>{const a={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(a,u,{get:()=>{const c=u;return s._proxyFormState[c]!==X.all&&(s._proxyFormState[c]=!l||X.all),t&&(t[c]=!0),e[c]}});return a},K=e=>O(e)&&!Object.keys(e).length,ft=(e,s,t,l)=>{t(e);const{name:a,...u}=e;return K(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(c=>s[c]===(!l||X.all))},ge=e=>Array.isArray(e)?e:[e],yt=(e,s,t)=>!e||!s||e===s||ge(e).some(l=>l&&(t?l===s:l.startsWith(s)||s.startsWith(l)));function Re(e){const s=A.useRef(e);s.current=e,A.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Ot(e){const s=Te(),{control:t=s.control,disabled:l,name:a,exact:u}=e||{},[c,h]=A.useState(t._formState),w=A.useRef(!0),E=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=A.useRef(a);return p.current=a,Re({disabled:l,next:x=>w.current&&yt(p.current,x.name,u)&&ft(x,E.current,t._updateFormState)&&h({...t._formState,...x}),subject:t._subjects.state}),A.useEffect(()=>(w.current=!0,E.current.isValid&&t._updateValid(!0),()=>{w.current=!1}),[t]),A.useMemo(()=>dt(c,t,E.current,!1),[c,t])}var te=e=>typeof e=="string",ht=(e,s,t,l,a)=>te(e)?(l&&s.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(u=>(l&&s.watch.add(u),f(t,u))):(l&&(s.watchAll=!0),t);function Lt(e){const s=Te(),{control:t=s.control,name:l,defaultValue:a,disabled:u,exact:c}=e||{},h=A.useRef(l);h.current=l,Re({disabled:u,subject:t._subjects.values,next:p=>{yt(h.current,p.name,c)&&E(z(ht(h.current,t._names,p.values||t._formValues,!1,a)))}});const[w,E]=A.useState(t._getWatch(l,a));return A.useEffect(()=>t._removeUnmounted()),w}function Tt(e){const s=Te(),{name:t,disabled:l,control:a=s.control,shouldUnregister:u}=e,c=ot(a._names.array,t),h=Lt({control:a,name:t,defaultValue:f(a._formValues,t,f(a._defaultValues,t,e.defaultValue)),exact:!0}),w=Ot({control:a,name:t,exact:!0}),E=A.useRef(a.register(t,{...e.rules,value:h,...G(e.disabled)?{disabled:e.disabled}:{}})),p=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(w.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(w.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(w.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(w.validatingFields,t)},error:{enumerable:!0,get:()=>f(w.errors,t)}}),[w,t]),x=A.useMemo(()=>({name:t,value:h,...G(l)||w.disabled?{disabled:w.disabled||l}:{},onChange:k=>E.current.onChange({target:{value:ut(k),name:t},type:_e.CHANGE}),onBlur:()=>E.current.onBlur({target:{value:f(a._formValues,t),name:t},type:_e.BLUR}),ref:k=>{const W=f(a._fields,t);W&&k&&(W._f.ref={focus:()=>k.focus(),select:()=>k.select(),setCustomValidity:R=>k.setCustomValidity(R),reportValidity:()=>k.reportValidity()})}}),[t,a._formValues,l,w.disabled,h,a._fields]);return A.useEffect(()=>{const k=a._options.shouldUnregister||u,W=(R,I)=>{const q=f(a._fields,R);q&&q._f&&(q._f.mount=I)};if(W(t,!0),k){const R=z(f(a._options.defaultValues,t));S(a._defaultValues,t,R),N(f(a._formValues,t))&&S(a._formValues,t,R)}return!c&&a.register(t),()=>{(c?k&&!a._state.action:k)?a.unregister(t):W(t,!1)}},[t,a,c,u]),A.useEffect(()=>{a._updateDisabledField({disabled:l,fields:a._fields,name:t})},[l,t,a]),A.useMemo(()=>({field:x,formState:w,fieldState:p}),[x,w,p])}const tr=e=>e.render(Tt(e));var Rt=(e,s,t,l,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[l]:a||!0}}:{},Xe=e=>({isOnSubmit:!e||e===X.onSubmit,isOnBlur:e===X.onBlur,isOnChange:e===X.onChange,isOnAll:e===X.all,isOnTouch:e===X.onTouched}),Ze=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const ve=(e,s,t,l)=>{for(const a of t||Object.keys(e)){const u=f(e,a);if(u){const{_f:c,...h}=u;if(c){if(c.refs&&c.refs[0]&&s(c.refs[0],a)&&!l)return!0;if(c.ref&&s(c.ref,c.name)&&!l)return!0;if(ve(h,s))break}else if(O(h)&&ve(h,s))break}}};var Mt=(e,s,t)=>{const l=ge(f(e,t));return S(l,"root",s[t]),S(e,t,l),e},Me=e=>e.type==="file",ee=e=>typeof e=="function",we=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},me=e=>te(e),Ue=e=>e.type==="radio",pe=e=>e instanceof RegExp;const et={value:!1,isValid:!1},tt={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?tt:{value:e[0].value,isValid:!0}:tt:et}return et};const rt={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,rt):rt;function st(e,s,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||G(e)&&!e)return{type:t,message:me(e)?e:"",ref:s}}var ce=e=>O(e)&&!pe(e)?e:{value:e,message:""},it=async(e,s,t,l,a,u)=>{const{ref:c,refs:h,required:w,maxLength:E,minLength:p,min:x,max:k,pattern:W,validate:R,name:I,valueAsNumber:q,mount:Y}=e._f,F=f(t,I);if(!Y||s.has(I))return{};const M=h?h[0]:c,H=b=>{a&&M.reportValidity&&(M.setCustomValidity(G(b)?"":b||""),M.reportValidity())},D={},J=Ue(c),ie=be(c),Q=J||ie,Z=(q||Me(c))&&N(c.value)&&N(F)||we(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,P=Rt.bind(null,I,l,D),oe=(b,V,C,j=se.maxLength,_=se.minLength)=>{const L=b?V:C;D[I]={type:b?j:_,message:L,ref:c,...P(b?j:_,L)}};if(u?!Array.isArray(F)||!F.length:w&&(!Q&&(Z||$(F))||G(F)&&!F||ie&&!gt(h).isValid||J&&!vt(h).isValid)){const{value:b,message:V}=me(w)?{value:!!w,message:w}:ce(w);if(b&&(D[I]={type:se.required,message:V,ref:M,...P(se.required,V)},!l))return H(V),D}if(!Z&&(!$(x)||!$(k))){let b,V;const C=ce(k),j=ce(x);if(!$(F)&&!isNaN(F)){const _=c.valueAsNumber||F&&+F;$(C.value)||(b=_>C.value),$(j.value)||(V=_<j.value)}else{const _=c.valueAsDate||new Date(F),L=fe=>new Date(new Date().toDateString()+" "+fe),ne=c.type=="time",de=c.type=="week";te(C.value)&&F&&(b=ne?L(F)>L(C.value):de?F>C.value:_>new Date(C.value)),te(j.value)&&F&&(V=ne?L(F)<L(j.value):de?F<j.value:_<new Date(j.value))}if((b||V)&&(oe(!!b,C.message,j.message,se.max,se.min),!l))return H(D[I].message),D}if((E||p)&&!Z&&(te(F)||u&&Array.isArray(F))){const b=ce(E),V=ce(p),C=!$(b.value)&&F.length>+b.value,j=!$(V.value)&&F.length<+V.value;if((C||j)&&(oe(C,b.message,V.message),!l))return H(D[I].message),D}if(W&&!Z&&te(F)){const{value:b,message:V}=ce(W);if(pe(b)&&!F.match(b)&&(D[I]={type:se.pattern,message:V,ref:c,...P(se.pattern,V)},!l))return H(V),D}if(R){if(ee(R)){const b=await R(F,t),V=st(b,M);if(V&&(D[I]={...V,...P(se.validate,V.message)},!l))return H(V.message),D}else if(O(R)){let b={};for(const V in R){if(!K(b)&&!l)break;const C=st(await R[V](F,t),M,V);C&&(b={...C,...P(V,C.message)},H(C.message),l&&(D[I]=b))}if(!K(b)&&(D[I]={ref:M,...b},!l))return D}}return H(!0),D};function Ut(e,s){const t=s.slice(0,-1).length;let l=0;for(;l<t;)e=N(e)?l++:e[s[l++]];return e}function Bt(e){for(const s in e)if(e.hasOwnProperty(s)&&!N(e[s]))return!1;return!0}function T(e,s){const t=Array.isArray(s)?s:Le(s)?[s]:ct(s),l=t.length===1?e:Ut(e,t),a=t.length-1,u=t[a];return l&&delete l[u],a!==0&&(O(l)&&K(l)||Array.isArray(l)&&Bt(l))&&T(e,t.slice(0,-1)),e}var Ee=()=>{let e=[];return{get observers(){return e},next:a=>{for(const u of e)u.next&&u.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(u=>u!==a)}}),unsubscribe:()=>{e=[]}}},Ne=e=>$(e)||!nt(e);function ae(e,s){if(Ne(e)||Ne(s))return e===s;if(ue(e)&&ue(s))return e.getTime()===s.getTime();const t=Object.keys(e),l=Object.keys(s);if(t.length!==l.length)return!1;for(const a of t){const u=e[a];if(!l.includes(a))return!1;if(a!=="ref"){const c=s[a];if(ue(u)&&ue(c)||O(u)&&O(c)||Array.isArray(u)&&Array.isArray(c)?!ae(u,c):u!==c)return!1}}return!0}var xt=e=>e.type==="select-multiple",It=e=>Ue(e)||be(e),Ce=e=>we(e)&&e.isConnected,bt=e=>{for(const s in e)if(ee(e[s]))return!0;return!1};function Fe(e,s={}){const t=Array.isArray(e);if(O(e)||t)for(const l in e)Array.isArray(e[l])||O(e[l])&&!bt(e[l])?(s[l]=Array.isArray(e[l])?[]:{},Fe(e[l],s[l])):$(e[l])||(s[l]=!0);return s}function mt(e,s,t){const l=Array.isArray(e);if(O(e)||l)for(const a in e)Array.isArray(e[a])||O(e[a])&&!bt(e[a])?N(s)||Ne(t[a])?t[a]=Array.isArray(e[a])?Fe(e[a],[]):{...Fe(e[a])}:mt(e[a],$(s)?{}:s[a],t[a]):t[a]=!ae(e[a],s[a]);return t}var ye=(e,s)=>mt(e,s,Fe(s)),_t=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:l})=>N(e)?e:s?e===""?NaN:e&&+e:t&&te(e)?new Date(e):l?l(e):e;function je(e){const s=e.ref;return Me(s)?s.files:Ue(s)?vt(e.refs).value:xt(s)?[...s.selectedOptions].map(({value:t})=>t):be(s)?gt(e.refs).value:_t(N(s.value)?e.ref.value:s.value,e)}var Pt=(e,s,t,l)=>{const a={};for(const u of e){const c=f(s,u);c&&S(a,u,c._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:l}},he=e=>N(e)?e:pe(e)?e.source:O(e)?pe(e.value)?e.value.source:e.value:e;const lt="AsyncFunction";var Wt=e=>!!e&&!!e.validate&&!!(ee(e.validate)&&e.validate.constructor.name===lt||O(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===lt)),qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function at(e,s,t){const l=f(e,t);if(l||Le(t))return{error:l,name:t};const a=t.split(".");for(;a.length;){const u=a.join("."),c=f(s,u),h=f(e,u);if(c&&!Array.isArray(c)&&t!==u)return{name:t};if(h&&h.type)return{name:u,error:h};a.pop()}return{name:t}}var Ht=(e,s,t,l,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?l.isOnBlur:a.isOnBlur)?!e:(t?l.isOnChange:a.isOnChange)?e:!0,$t=(e,s)=>!Ve(f(e,s)).length&&T(e,s);const zt={mode:X.onSubmit,reValidateMode:X.onChange,shouldFocusError:!0};function Kt(e={}){let s={...zt,...e},t={submitCount:0,isDirty:!1,isLoading:ee(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},l={},a=O(s.defaultValues)||O(s.values)?z(s.defaultValues||s.values)||{}:{},u=s.shouldUnregister?{}:z(a),c={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w,E=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Ee(),array:Ee(),state:Ee()},k=Xe(s.mode),W=Xe(s.reValidateMode),R=s.criteriaMode===X.all,I=r=>i=>{clearTimeout(E),E=setTimeout(r,i)},q=async r=>{if(!s.disabled&&(p.isValid||r)){const i=s.resolver?K((await Q()).errors):await P(l,!0);i!==t.isValid&&x.state.next({isValid:i})}},Y=(r,i)=>{!s.disabled&&(p.isValidating||p.validatingFields)&&((r||Array.from(h.mount)).forEach(n=>{n&&(i?S(t.validatingFields,n,i):T(t.validatingFields,n))}),x.state.next({validatingFields:t.validatingFields,isValidating:!K(t.validatingFields)}))},F=(r,i=[],n,y,d=!0,o=!0)=>{if(y&&n&&!s.disabled){if(c.action=!0,o&&Array.isArray(f(l,r))){const g=n(f(l,r),y.argA,y.argB);d&&S(l,r,g)}if(o&&Array.isArray(f(t.errors,r))){const g=n(f(t.errors,r),y.argA,y.argB);d&&S(t.errors,r,g),$t(t.errors,r)}if(p.touchedFields&&o&&Array.isArray(f(t.touchedFields,r))){const g=n(f(t.touchedFields,r),y.argA,y.argB);d&&S(t.touchedFields,r,g)}p.dirtyFields&&(t.dirtyFields=ye(a,u)),x.state.next({name:r,isDirty:b(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(u,r,i)},M=(r,i)=>{S(t.errors,r,i),x.state.next({errors:t.errors})},H=r=>{t.errors=r,x.state.next({errors:t.errors,isValid:!1})},D=(r,i,n,y)=>{const d=f(l,r);if(d){const o=f(u,r,N(n)?f(a,r):n);N(o)||y&&y.defaultChecked||i?S(u,r,i?o:je(d._f)):j(r,o),c.mount&&q()}},J=(r,i,n,y,d)=>{let o=!1,g=!1;const m={name:r};if(!s.disabled){const U=!!(f(l,r)&&f(l,r)._f&&f(l,r)._f.disabled);if(!n||y){p.isDirty&&(g=t.isDirty,t.isDirty=m.isDirty=b(),o=g!==m.isDirty);const B=U||ae(f(a,r),i);g=!!(!U&&f(t.dirtyFields,r)),B||U?T(t.dirtyFields,r):S(t.dirtyFields,r,!0),m.dirtyFields=t.dirtyFields,o=o||p.dirtyFields&&g!==!B}if(n){const B=f(t.touchedFields,r);B||(S(t.touchedFields,r,n),m.touchedFields=t.touchedFields,o=o||p.touchedFields&&B!==n)}o&&d&&x.state.next(m)}return o?m:{}},ie=(r,i,n,y)=>{const d=f(t.errors,r),o=p.isValid&&G(i)&&t.isValid!==i;if(s.delayError&&n?(w=I(()=>M(r,n)),w(s.delayError)):(clearTimeout(E),w=null,n?S(t.errors,r,n):T(t.errors,r)),(n?!ae(d,n):d)||!K(y)||o){const g={...y,...o&&G(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...g},x.state.next(g)}},Q=async r=>{Y(r,!0);const i=await s.resolver(u,s.context,Pt(r||h.mount,l,s.criteriaMode,s.shouldUseNativeValidation));return Y(r),i},Z=async r=>{const{errors:i}=await Q(r);if(r)for(const n of r){const y=f(i,n);y?S(t.errors,n,y):T(t.errors,n)}else t.errors=i;return i},P=async(r,i,n={valid:!0})=>{for(const y in r){const d=r[y];if(d){const{_f:o,...g}=d;if(o){const m=h.array.has(o.name),U=d._f&&Wt(d._f);U&&p.validatingFields&&Y([y],!0);const B=await it(d,h.disabled,u,R,s.shouldUseNativeValidation&&!i,m);if(U&&p.validatingFields&&Y([y]),B[o.name]&&(n.valid=!1,i))break;!i&&(f(B,o.name)?m?Mt(t.errors,B,o.name):S(t.errors,o.name,B[o.name]):T(t.errors,o.name))}!K(g)&&await P(g,i,n)}}return n.valid},oe=()=>{for(const r of h.unMount){const i=f(l,r);i&&(i._f.refs?i._f.refs.every(n=>!Ce(n)):!Ce(i._f.ref))&&Ae(r)}h.unMount=new Set},b=(r,i)=>!s.disabled&&(r&&i&&S(u,r,i),!ae(Be(),a)),V=(r,i,n)=>ht(r,h,{...c.mount?u:N(i)?a:te(r)?{[r]:i}:i},n,i),C=r=>Ve(f(c.mount?u:a,r,s.shouldUnregister?f(a,r,[]):[])),j=(r,i,n={})=>{const y=f(l,r);let d=i;if(y){const o=y._f;o&&(!o.disabled&&S(u,r,_t(i,o)),d=we(o.ref)&&$(i)?"":i,xt(o.ref)?[...o.ref.options].forEach(g=>g.selected=d.includes(g.value)):o.refs?be(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(m=>m===g.value):d===g.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(g=>g.checked=g.value===d):Me(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||x.values.next({name:r,values:{...u}})))}(n.shouldDirty||n.shouldTouch)&&J(r,d,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&fe(r)},_=(r,i,n)=>{for(const y in i){const d=i[y],o=`${r}.${y}`,g=f(l,o);(h.array.has(r)||O(d)||g&&!g._f)&&!ue(d)?_(o,d,n):j(o,d,n)}},L=(r,i,n={})=>{const y=f(l,r),d=h.array.has(r),o=z(i);S(u,r,o),d?(x.array.next({name:r,values:{...u}}),(p.isDirty||p.dirtyFields)&&n.shouldDirty&&x.state.next({name:r,dirtyFields:ye(a,u),isDirty:b(r,o)})):y&&!y._f&&!$(o)?_(r,o,n):j(r,o,n),Ze(r,h)&&x.state.next({...t}),x.values.next({name:c.mount?r:void 0,values:{...u}})},ne=async r=>{c.mount=!0;const i=r.target;let n=i.name,y=!0;const d=f(l,n),o=()=>i.type?je(d._f):ut(r),g=m=>{y=Number.isNaN(m)||ue(m)&&isNaN(m.getTime())||ae(m,f(u,n,m))};if(d){let m,U;const B=o(),le=r.type===_e.BLUR||r.type===_e.FOCUS_OUT,At=!qt(d._f)&&!s.resolver&&!f(t.errors,n)&&!d._f.deps||Ht(le,f(t.touchedFields,n),t.isSubmitted,W,k),De=Ze(n,h,le);S(u,n,B),le?(d._f.onBlur&&d._f.onBlur(r),w&&w(0)):d._f.onChange&&d._f.onChange(r);const ke=J(n,B,le,!1),St=!K(ke)||De;if(!le&&x.values.next({name:n,type:r.type,values:{...u}}),At)return p.isValid&&(s.mode==="onBlur"&&le?q():le||q()),St&&x.state.next({name:n,...De?{}:ke});if(!le&&De&&x.state.next({...t}),s.resolver){const{errors:Ke}=await Q([n]);if(g(B),y){const Dt=at(t.errors,l,n),Qe=at(Ke,l,Dt.name||n);m=Qe.error,n=Qe.name,U=K(Ke)}}else Y([n],!0),m=(await it(d,h.disabled,u,R,s.shouldUseNativeValidation))[n],Y([n]),g(B),y&&(m?U=!1:p.isValid&&(U=await P(l,!0)));y&&(d._f.deps&&fe(d._f.deps),ie(n,U,m,ke))}},de=(r,i)=>{if(f(t.errors,i)&&r.focus)return r.focus(),1},fe=async(r,i={})=>{let n,y;const d=ge(r);if(s.resolver){const o=await Z(N(r)?r:d);n=K(o),y=r?!d.some(g=>f(o,g)):n}else r?(y=(await Promise.all(d.map(async o=>{const g=f(l,o);return await P(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&q()):y=n=await P(l);return x.state.next({...!te(r)||p.isValid&&n!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:n}:{},errors:t.errors}),i.shouldFocus&&!y&&ve(l,de,r?d:h.mount),y},Be=r=>{const i={...c.mount?u:a};return N(r)?i:te(r)?f(i,r):r.map(n=>f(i,n))},Ie=(r,i)=>({invalid:!!f((i||t).errors,r),isDirty:!!f((i||t).dirtyFields,r),error:f((i||t).errors,r),isValidating:!!f(t.validatingFields,r),isTouched:!!f((i||t).touchedFields,r)}),wt=r=>{r&&ge(r).forEach(i=>T(t.errors,i)),x.state.next({errors:r?t.errors:{}})},Pe=(r,i,n)=>{const y=(f(l,r,{_f:{}})._f||{}).ref,d=f(t.errors,r)||{},{ref:o,message:g,type:m,...U}=d;S(t.errors,r,{...U,...i,ref:y}),x.state.next({name:r,errors:t.errors,isValid:!1}),n&&n.shouldFocus&&y&&y.focus&&y.focus()},pt=(r,i)=>ee(r)?x.values.subscribe({next:n=>r(V(void 0,i),n)}):V(r,i,!0),Ae=(r,i={})=>{for(const n of r?ge(r):h.mount)h.mount.delete(n),h.array.delete(n),i.keepValue||(T(l,n),T(u,n)),!i.keepError&&T(t.errors,n),!i.keepDirty&&T(t.dirtyFields,n),!i.keepTouched&&T(t.touchedFields,n),!i.keepIsValidating&&T(t.validatingFields,n),!s.shouldUnregister&&!i.keepDefaultValue&&T(a,n);x.values.next({values:{...u}}),x.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&q()},We=({disabled:r,name:i,field:n,fields:y})=>{(G(r)&&c.mount||r||h.disabled.has(i))&&(r?h.disabled.add(i):h.disabled.delete(i),J(i,je(n?n._f:f(y,i)._f),!1,!1,!0))},Se=(r,i={})=>{let n=f(l,r);const y=G(i.disabled)||G(s.disabled);return S(l,r,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:r}},name:r,mount:!0,...i}}),h.mount.add(r),n?We({field:n,disabled:G(i.disabled)?i.disabled:s.disabled,name:r}):D(r,!0,i.value),{...y?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:he(i.min),max:he(i.max),minLength:he(i.minLength),maxLength:he(i.maxLength),pattern:he(i.pattern)}:{},name:r,onChange:ne,onBlur:ne,ref:d=>{if(d){Se(r,i),n=f(l,r);const o=N(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=It(o),m=n._f.refs||[];if(g?m.find(U=>U===o):o===n._f.ref)return;S(l,r,{_f:{...n._f,...g?{refs:[...m.filter(Ce),o,...Array.isArray(f(a,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),D(r,!1,void 0,o)}else n=f(l,r,{}),n._f&&(n._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(ot(h.array,r)&&c.action)&&h.unMount.add(r)}}},qe=()=>s.shouldFocusError&&ve(l,de,h.mount),Ft=r=>{G(r)&&(x.state.next({disabled:r}),ve(l,(i,n)=>{const y=f(l,n);y&&(i.disabled=y._f.disabled||r,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||r}))},0,!1))},He=(r,i)=>async n=>{let y;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let d=z(u);if(h.disabled.size)for(const o of h.disabled)S(d,o,void 0);if(x.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await Q();t.errors=o,d=g}else await P(l);if(T(t.errors,"root"),K(t.errors)){x.state.next({errors:{}});try{await r(d,n)}catch(o){y=o}}else i&&await i({...t.errors},n),qe(),setTimeout(qe);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:K(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Vt=(r,i={})=>{f(l,r)&&(N(i.defaultValue)?L(r,z(f(a,r))):(L(r,i.defaultValue),S(a,r,z(i.defaultValue))),i.keepTouched||T(t.touchedFields,r),i.keepDirty||(T(t.dirtyFields,r),t.isDirty=i.defaultValue?b(r,z(f(a,r))):b()),i.keepError||(T(t.errors,r),p.isValid&&q()),x.state.next({...t}))},$e=(r,i={})=>{const n=r?z(r):a,y=z(n),d=K(r),o=d?a:y;if(i.keepDefaultValues||(a=n),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...h.mount,...Object.keys(ye(a,u))]);for(const m of Array.from(g))f(t.dirtyFields,m)?S(o,m,f(u,m)):L(m,f(o,m))}else{if(Oe&&N(r))for(const g of h.mount){const m=f(l,g);if(m&&m._f){const U=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(we(U)){const B=U.closest("form");if(B){B.reset();break}}}}l={}}u=s.shouldUnregister?i.keepDefaultValues?z(a):{}:z(o),x.array.next({values:{...o}}),x.values.next({values:{...o}})}h={mount:i.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!i.keepIsValid||!!i.keepDirtyValues,c.watch=!!s.shouldUnregister,x.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:d?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!ae(r,a)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:i.keepDirtyValues?i.keepDefaultValues&&u?ye(a,u):t.dirtyFields:i.keepDefaultValues&&r?ye(a,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ze=(r,i)=>$e(ee(r)?r(u):r,i);return{control:{register:Se,unregister:Ae,getFieldState:Ie,handleSubmit:He,setError:Pe,_executeSchema:Q,_getWatch:V,_getDirty:b,_updateValid:q,_removeUnmounted:oe,_updateFieldArray:F,_updateDisabledField:We,_getFieldArray:C,_reset:$e,_resetDefaultValues:()=>ee(s.defaultValues)&&s.defaultValues().then(r=>{ze(r,s.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:Ft,_subjects:x,_proxyFormState:p,_setErrors:H,get _fields(){return l},get _formValues(){return u},get _state(){return c},set _state(r){c=r},get _defaultValues(){return a},get _names(){return h},set _names(r){h=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:fe,register:Se,handleSubmit:He,watch:pt,setValue:L,getValues:Be,reset:ze,resetField:Vt,clearErrors:wt,unregister:Ae,setError:Pe,setFocus:(r,i={})=>{const n=f(l,r),y=n&&n._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),i.shouldSelect&&ee(d.select)&&d.select())}},getFieldState:Ie}}function rr(e={}){const s=A.useRef(void 0),t=A.useRef(void 0),[l,a]=A.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Kt(e),formState:l});const u=s.current.control;return u._options=e,Re({subject:u._subjects.state,next:c=>{ft(c,u._proxyFormState,u._updateFormState,!0)&&a({...u._formState})}}),A.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),A.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==l.isDirty&&u._subjects.state.next({isDirty:c})}},[u,l.isDirty]),A.useEffect(()=>{e.values&&!ae(e.values,t.current)?(u._reset(e.values,u._options.resetOptions),t.current=e.values,a(c=>({...c}))):u._resetDefaultValues()},[e.values,u]),A.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),A.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),A.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),s.current.formState=dt(l,u),s.current}export{tr as C,Zt as F,er as a,rr as u};
